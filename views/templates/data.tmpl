{{ define "yield" }}

{{if .Status.Armed}}
<div class="flex justify-between m-3 p-3 items-center md:px-10 rounded shadow bg-red-400">
    <h1 class="text-2xl font-semibold text-white">System armed</h1>
    <form method="POST" action="/toggleAlarm">
        <input value="Disarm system" class="p-1 cursor-pointer px-5 text-xl text-white font-semibold rounded bg-red-700" type="submit" />
    </form>
</div>
{{else}}
<div class="flex justify-between m-3 p-3 items-center md:px-10 rounded shadow bg-green-400">
    <h1 class="text-2xl font-semibold text-white">System unarmed</h1>
    <form method="POST" action="/toggleAlarm">
        <input value="Arm system" class="cursor-pointer p-1 px-5 text-xl text-white font-semibold rounded bg-green-700" type="submit" />
    </form>
</div>
{{end}}


<div class="flex flex-wrap flex-col md:flex-row justify-center">
    <div class="md:w-1/3 p-3">
        <div class="w-full bg-white rounded shadow p-4">
            <h2 class="text-gray-500">Alarm system status</h2>
            {{if .Status.Armed}}
            <h2 class="text-2xl text-red-600 font-semibold">Armed</h2>
            {{else}}
            <h2 class="text-2xl text-green-600 font-semibold">Unarmed</h2>
            {{ end }}
        </div>
    </div>
    <div class="md:w-1/3 p-3">
        <div class="w-full bg-white rounded shadow p-4">
            <h2 class="text-gray-500">Latest system status update</h2>
            <h2 class="text-2xl text-green-600 font-semibold">{{ .LastUpdatePretty }}</h2>
        </div>
    </div>
    <div class="md:w-1/3 p-3">
        <div class="w-full bg-white rounded shadow p-4">
            <h2 class="text-gray-500">Latest sensor update</h2>
            <h2 class="text-2xl text-green-600 font-semibold">{{ .LastUpdatePretty }}</h2>
        </div>
    </div>
</div>
<div class="flex flex-wrap">
    {{ range .LastData.TemperatureData }}
    <div class="p-3 flex-grow">
        <div class="bg-white p-4 rounded shadow flex justify-between items-center w-full">
            <div class="mr-10">
                <h1 class="font-semibold text-gray-500 text-2xl">{{.Sensor}}</h1>
            </div>
            <h1 class="text-green-600 font-semibold text-3xl">{{.Value}}</h1>
        </div>
    </div>
    {{ end }}
</div>

<div class="shadow bg-white shadow rounded p-3 px-5 m-3 my-2">
    <div class="flex flex-col-reverse lg:flex-row justify-center">
        <data-graph class="w-full h-full"></data-graph>
    </div>
</div>

{{ end }}